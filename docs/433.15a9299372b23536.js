"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[433],{5433:(C,h,l)=>{l.r(h),l.d(h,{ApplicationListComponent:()=>E});var p=l(9645),b=l(98),t=l(7404),d=l(8165),_=l(316),g=l(8847);const u=()=>["/applications"];function F(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",20)(1,"div")(2,"h3",21),t.EFF(3),t.k0s()(),t.j41(4,"div",22)(5,"div",23)(6,"table",24)(7,"thead")(8,"tr"),t.nrm(9,"th"),t.j41(10,"th"),t.EFF(11,"USER ID"),t.k0s(),t.j41(12,"th"),t.EFF(13,"APPLICATION ID"),t.k0s(),t.j41(14,"th"),t.EFF(15,"USER NAME"),t.k0s(),t.j41(16,"th"),t.EFF(17,"APPLIED FOR"),t.k0s(),t.j41(18,"th",25),t.EFF(19,"APPLICATION STATUS"),t.k0s()()(),t.j41(20,"tbody",26)(21,"tr")(22,"td")(23,"button",27),t.bIt("click",function(){const n=t.eBV(e).$implicit,i=t.XpG(),s=t.sdS(50);return i.open(s),t.Njj(i.selectedMonth=n)}),t.nrm(24,"i",28),t.EFF(25," PDF "),t.k0s()(),t.j41(26,"td")(27,"a",29),t.EFF(28,"#U001"),t.k0s()(),t.j41(29,"td")(30,"a",29),t.EFF(31,"#L201"),t.k0s()(),t.j41(32,"td"),t.EFF(33,"John Doe"),t.k0s(),t.j41(34,"td"),t.EFF(35,"Company Application & Background Check"),t.k0s(),t.j41(36,"td",25)(37,"span",13),t.EFF(38,"Pending"),t.k0s()()(),t.j41(39,"tr")(40,"td")(41,"button",27),t.bIt("click",function(){const n=t.eBV(e).$implicit,i=t.XpG(),s=t.sdS(50);return i.open(s),t.Njj(i.selectedMonth=n)}),t.nrm(42,"i",28),t.EFF(43," PDF "),t.k0s()(),t.j41(44,"td")(45,"a",29),t.EFF(46,"#U002"),t.k0s()(),t.j41(47,"td")(48,"a",29),t.EFF(49,"#L531"),t.k0s()(),t.j41(50,"td"),t.EFF(51,"Jane Smith"),t.k0s(),t.j41(52,"td"),t.EFF(53,"Company Application"),t.k0s(),t.j41(54,"td",25)(55,"span",13),t.EFF(56,"Pending"),t.k0s()()(),t.j41(57,"tr")(58,"td")(59,"button",27),t.bIt("click",function(){const n=t.eBV(e).$implicit,i=t.XpG(),s=t.sdS(50);return i.open(s),t.Njj(i.selectedMonth=n)}),t.nrm(60,"i",28),t.EFF(61," PDF "),t.k0s()(),t.j41(62,"td")(63,"a",29),t.EFF(64,"#U003"),t.k0s()(),t.j41(65,"td")(66,"a",29),t.EFF(67,"#L541"),t.k0s()(),t.j41(68,"td"),t.EFF(69,"Robert Brown"),t.k0s(),t.j41(70,"td"),t.EFF(71,"Background Check"),t.k0s(),t.j41(72,"td",25)(73,"span",12),t.EFF(74,"Rejected"),t.k0s()()()()()()()()}if(2&a){const e=c.$implicit;t.R7$(3),t.JRh(e)}}function f(a,c){1&a&&(t.j41(0,"div",58),t.nrm(1,"img",59),t.k0s())}function k(a,c){1&a&&(t.j41(0,"div",58),t.nrm(1,"img",59),t.k0s())}function v(a,c){1&a&&(t.j41(0,"div",58),t.nrm(1,"img",59),t.k0s())}function j(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",30)(1,"h4",31),t.nrm(2,"img",32),t.EFF(3,"Application #U001"),t.k0s(),t.j41(4,"button",33),t.bIt("click",function(){const n=t.eBV(e).$implicit,i=t.XpG();return n.dismiss("Cross click"),t.Njj(i.resetLoader())}),t.k0s()(),t.j41(5,"div",34)(6,"div",1)(7,"div",35)(8,"ul",36)(9,"li",37)(10,"button",38),t.EFF(11," Home "),t.k0s()(),t.j41(12,"li",37)(13,"button",39),t.EFF(14," Tax clearance "),t.k0s()(),t.j41(15,"li",37)(16,"button",40),t.EFF(17," Proof of bank account "),t.k0s()()(),t.j41(18,"div",41)(19,"div",42)(20,"div",43),t.DNE(21,f,2,0,"div",44),t.j41(22,"pdf-viewer",45),t.bIt("after-load-complete",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onPdfLoaded("doc"))}),t.k0s()()(),t.j41(23,"div",46)(24,"div",43),t.DNE(25,k,2,0,"div",44),t.j41(26,"pdf-viewer",45),t.bIt("after-load-complete",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onPdfLoaded("tax"))}),t.k0s()()(),t.j41(27,"div",47)(28,"div",43),t.DNE(29,v,2,0,"div",44),t.j41(30,"pdf-viewer",45),t.bIt("after-load-complete",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onPdfLoaded("bank"))}),t.k0s()()()()(),t.j41(31,"div",6)(32,"div",1)(33,"div",48)(34,"button",49),t.EFF(35," Approve "),t.nrm(36,"i",50),t.k0s()(),t.j41(37,"div",48)(38,"button",49),t.EFF(39," Reject "),t.nrm(40,"i",51),t.k0s()(),t.j41(41,"div",48)(42,"button",49),t.EFF(43," Leave Pending "),t.nrm(44,"i",52),t.k0s()()(),t.j41(45,"div",1)(46,"div",53)(47,"div",23)(48,"h6"),t.EFF(49),t.k0s(),t.j41(50,"p",54),t.EFF(51,"Appointment Locations."),t.k0s(),t.j41(52,"p",55),t.EFF(53,"Johannesburg"),t.k0s(),t.j41(54,"p",55),t.EFF(55,"Kimberley"),t.k0s(),t.j41(56,"div",7)(57,"button",56),t.EFF(58," Attachments "),t.j41(59,"span",16),t.EFF(60),t.j41(61,"span",17),t.EFF(62,"Attachments "),t.nrm(63,"i",57),t.k0s()()(),t.j41(64,"ul",9)(65,"li")(66,"label",10),t.EFF(67," Tax clearance"),t.k0s()(),t.j41(68,"li")(69,"label",10),t.EFF(70," Proof of bank account:"),t.k0s()()()()()()()()()()}if(2&a){const e=t.XpG();t.R7$(21),t.Y8G("ngIf",e.loadingDoc),t.R7$(),t.Y8G("src",e.pdfSrc)("render-text",!0),t.R7$(3),t.Y8G("ngIf",e.loadingTax),t.R7$(),t.Y8G("src",e.pdfSrcTax)("render-text",!0),t.R7$(3),t.Y8G("ngIf",e.loadingBank),t.R7$(),t.Y8G("src",e.pdfScrBank)("render-text",!0),t.R7$(19),t.SpI("13 ",e.selectedMonth,""),t.R7$(11),t.SpI(" ",e.attachmentNo," ")}}let E=(()=>{class a{constructor(e,o){this.route=e,this.modalService=o,this.startDate=null,this.endDate=null,this.months=[],this.pdfSrc="../../../../../assets/test.pdf",this.pdfSrcTax="../../../../../assets/test2.pdf",this.pdfScrBank="../../../../../assets/test3.pdf",this.selectedMonth="",this.attachmentNo=0,this.isLoading=!0,this.loadingDoc=!0,this.loadingTax=!0,this.loadingBank=!0}ngOnInit(){this.route.queryParamMap.subscribe(e=>{this.startDate=e.get("start"),this.endDate=e.get("end"),console.log(this.startDate),console.log(this.endDate),this.months=this.getMonthsBetween(this.startDate,this.endDate),this.months=this.formatMonths(this.months),this.monthsNo=this.months.length,this.attachmentNo=2})}onPdfLoaded(e){"doc"===e&&(this.loadingDoc=!1),"tax"===e&&(this.loadingTax=!1),"bank"===e&&(this.loadingBank=!1)}formatMonths(e){const o=[];return e.forEach(n=>{const[i,s]=n.split("/").map(Number),m=new Date(i,s-1).toLocaleString("default",{month:"long",year:"numeric"});o.push(m)}),o}getMonthsBetween(e,o){const n=[],i=new Date(e),s=new Date(o);s.setMonth(s.getMonth()+1);const r=new Date(i);for(;r<s;){const m=r.getFullYear(),D=(r.getMonth()+1).toString().padStart(2,"0");n.push(`${m}/${D}`),r.setMonth(r.getMonth()+1)}return n}sortDates(e="asc"){return this.months.sort((o,n)=>{const i=new Date(o),s=new Date(n);return"asc"===e?i.getTime()-s.getTime():s.getTime()-i.getTime()})}open(e){this.modalService.open(e,{windowClass:"custom-xl-modal"}).result.then(o=>{console.log(`Closed with: ${o}`)},o=>{console.log(`Dismissed with: ${o}`)})}resetLoader(){this.loadingDoc=!0,this.loadingTax=!0,this.loadingBank=!0}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(p.nX),t.rXU(d.Bq))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-application-list"]],standalone:!0,features:[t.aNF],decls:51,vars:4,consts:[["content",""],[1,"row"],[1,"col-12","row"],[1,"col-4"],["type","button","aria-label","back",1,"btn","btn-light",3,"routerLink"],[1,"bi","bi-arrow-left-circle-fill","back"],[1,"col-2"],["ngbDropdown",""],["ngbDropdownToggle","",1,"btn","btn-light","white","d-space"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item"],[1,"badge","bg-success"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"dropdown-item",3,"click"],["type","button",1,"btn","btn-light","position-relative"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-primary"],[1,"visually-hidden"],[1,"row","date-content"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"font-monospace"],[1,"card"],[1,"card-body"],[1,"table","table-hover"],[1,"text-end"],[1,"pointer"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-file-pdf-fill"],["href","javascript:",1,"text-muted"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["src","../../../../../assets/images/logo_arms.png","width","40","height","50",1,"arms"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-10"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","doc-tab","data-bs-toggle","tab","data-bs-target","#doc","type","button","role","tab","aria-controls","doc","aria-selected","true",1,"nav-link","active"],["id","tax-tab","data-bs-toggle","tab","data-bs-target","#tax","type","button","role","tab","aria-controls","tax","aria-selected","false",1,"nav-link"],["id","contact-tab","data-bs-toggle","tab","data-bs-target","#bank","type","button","role","tab","aria-controls","bank","aria-selected","false",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","doc","role","tabpanel","aria-labelledby","doc-tab",1,"tab-pane","fade","show","active"],[1,"pdf-container"],["class","loader",4,"ngIf"],[2,"display","block","width","100%","height","100%",3,"after-load-complete","src","render-text"],["id","tax","role","tabpanel","aria-labelledby","tax-tab",1,"tab-pane","fade"],["id","bank","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade"],[1,"col-12","text-center"],[1,"btn","btn-light","space","form-control","d-flex","justify-content-between","align-items-center"],[1,"bi","bi-check-circle-fill","approve"],[1,"bi","bi-x-circle-fill","reject"],[1,"bi","bi-hourglass"],[1,"card",2,"width","18rem"],[1,"card-text"],[1,"card-text","text-muted"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","position-relative"],[1,"bi","bi-paperclip"],[1,"loader"],["src","../../../../../assets/images/load.gif"]],template:function(o,n){if(1&o){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),t.nrm(4,"i",5),t.k0s()(),t.j41(5,"div",6)(6,"div",7)(7,"button",8),t.EFF(8,"All"),t.k0s(),t.j41(9,"ul",9)(10,"li")(11,"label",10)(12,"span",11),t.EFF(13,"Approved"),t.k0s()()(),t.j41(14,"li")(15,"label",10)(16,"span",12),t.EFF(17,"Rejected"),t.k0s()()(),t.j41(18,"li")(19,"label",10)(20,"span",13),t.EFF(21,"Pending"),t.k0s()()()()()(),t.j41(22,"div",6)(23,"div",7)(24,"button",8),t.EFF(25,"Sort"),t.k0s(),t.j41(26,"ul",9)(27,"li")(28,"label",14),t.bIt("click",function(){return t.eBV(i),t.Njj(n.sortDates("desc"))}),t.EFF(29,"Newest to Oldest"),t.k0s()(),t.j41(30,"li")(31,"label",14),t.bIt("click",function(){return t.eBV(i),t.Njj(n.sortDates("asc"))}),t.EFF(32,"Oldest to Newest"),t.k0s()()()()(),t.j41(33,"div",6)(34,"button",15),t.EFF(35," Months "),t.j41(36,"span",16),t.EFF(37),t.j41(38,"span",17),t.EFF(39,"Months"),t.k0s()()()(),t.j41(40,"div",6)(41,"button",15),t.EFF(42," Applications "),t.j41(43,"span",16),t.EFF(44," 6 "),t.j41(45,"span",17),t.EFF(46,"Applications"),t.k0s()()()()()(),t.j41(47,"div",18),t.DNE(48,F,75,1,"div",19),t.k0s(),t.DNE(49,j,71,11,"ng-template",null,0,t.C5r)}2&o&&(t.R7$(3),t.Y8G("routerLink",t.lJ4(3,u)),t.R7$(34),t.SpI(" ",n.monthsNo," "),t.R7$(11),t.Y8G("ngForOf",n.months))},dependencies:[b.G,_.Sq,_.bT,d.tg,d.do,d.U0,g.c6,p.iI,p.Wk],styles:[".white[_ngcontent-%COMP%]{background-color:#fff!important}  .custom-xl-modal .modal-dialog{width:90vw!important;min-width:90vw!important;max-width:90vw!important;height:90vh!important;min-height:90vh!important;max-height:90vh!important}  .modal-content{height:90vh!important;min-height:90vh!important;max-height:90vh!important}.pdf-container[_ngcontent-%COMP%]{width:100%;height:70vh;overflow:auto;border:1px solid #ddd}.space[_ngcontent-%COMP%]{margin-bottom:15px}.approve[_ngcontent-%COMP%]{color:green}.reject[_ngcontent-%COMP%]{color:red}.pending[_ngcontent-%COMP%]{color:#ff0}.back[_ngcontent-%COMP%]{font-size:25px}.date-content[_ngcontent-%COMP%]{margin-top:20px}.arms[_ngcontent-%COMP%]{margin-right:8px}.bg-primary[_ngcontent-%COMP%]{background-color:#f47f0c!important;border-color:#f47f0c!important}.loader[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]})}}return a})()}}]);
//# sourceMappingURL=433.15a9299372b23536.js.map