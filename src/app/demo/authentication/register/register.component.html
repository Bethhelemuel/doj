<div class="auth-main">
  <div class="auth-bg"></div>
  <div class="auth-wrapper v3">
    <div class="auth-form">
      <div class="auth-header text-center mb-3">
        <a href="javascript:">
          <img src="assets/images/logo-dark.gif" alt="logo img" />
        </a>
      </div>
      <div *ngIf="alertVisible" [ngClass]="{'alert': true, 'alert-success': alertType === 'success', 'alert-danger': alertType === 'danger'}" role="alert">
        {{ alertMessage }}
        <button type="button" class="close" aria-label="Close" (click)="closeAlert()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="card my-4 shadow-lg rounded-lg border-0">
        <div class="card-body px-3 py-4">
          <h3 class="text-center mb-3"><strong>Sign Up</strong></h3>

          <form [formGroup]="signUpForm" >
            <div class="row">
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label class="form-label" for="firstName">First Name*</label>
                  <input type="text" formControlName="firstName" class="form-control shadow-sm" id="firstName" placeholder="First Name" />
                  <div *ngIf="signUpForm.get('firstName').invalid && signUpForm.get('firstName').touched">
                    <small class="error">First name is required.</small>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label class="form-label" for="lastName">Last Name*</label>
                  <input type="text" formControlName="lastName" class="form-control shadow-sm" id="lastName" placeholder="Last Name" />
                  <div *ngIf="signUpForm.get('lastName').invalid && signUpForm.get('lastName').touched">
                    <small class="error">Last name is required.</small>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label class="form-label" for="emailAddress">Email Address*</label>
                  <input
                    type="email"
                    formControlName="emailAddress"
                    class="form-control shadow-sm"
                    id="emailAddress"
                    placeholder="Email Address"
                  />
                  <div *ngIf="signUpForm.get('emailAddress').invalid && signUpForm.get('emailAddress').touched">
                    <small class="error">Email is required and must be a valid email address.</small>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label class="form-label" for="role">Role*</label>
                  <select formControlName="role" class="form-control shadow-sm" id="role" [disabled]="!signUpForm.get('emailAddress').valid">
                    <option value="" disabled selected>Select Role</option>
                    <option value="official">Officials</option>
                    <option value="liquidator">Liquidators</option>
                  </select>
                  <div *ngIf="signUpForm.get('role').invalid && signUpForm.get('role').touched">
                    <small class="error">Role is required.</small>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group mb-3 position-relative">
                  <label class="form-label" for="password">Password*</label>
                  <input
                    [type]="showPassword ? 'text' : 'password'"
                    formControlName="password"
                    class="form-control shadow-sm"
                    id="password"
                    placeholder="Password"
                  />
                  <i
                    class="show-hide-icon"
                    [ngClass]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"
                    (click)="togglePasswordVisibility()"
                  ></i>
                  <div *ngIf="signUpForm.get('password').invalid && signUpForm.get('password').touched">
                    <small class="error">Password is required and must be at least 6 characters long.</small>
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group mb-3 position-relative">
                  <label class="form-label" for="confirmPassword">Confirm Password*</label>
                  <input
                    [type]="showConfirmPassword ? 'text' : 'password'"
                    formControlName="confirmPassword"
                    class="form-control shadow-sm"
                    id="confirmPassword"
                    placeholder="Confirm Password"
                  />
                  <i
                    class="show-hide-icon"
                    [ngClass]="showConfirmPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"
                    (click)="toggleConfirmPasswordVisibility()"
                  ></i>
                  <div *ngIf="signUpForm.get('confirmPassword').invalid && signUpForm.get('confirmPassword').touched">
                    <small class="error">Confirm password is required and must match the password.</small>
                  </div>
                  <div *ngIf="signUpForm.errors?.mismatch && signUpForm.get('confirmPassword').touched">
                    <small class="error">Passwords must match.</small>
                  </div>
                </div>
              </div>
            </div>

            <p class="text-sm text-muted text-center mt-3">
              By signing up, you agree to our
              <a href="javascript:" class="text-primary">Terms of Service</a>
              and
              <a href="javascript:" class="text-primary">Privacy Policy</a>
              .
            </p>

            <div class="d-grid mt-3">
              <button type="submit" class="btn btn-primary shadow" (click)="onSubmit()" >Create Account</button>
            </div>

            <p class="text-center mt-3">
              Already have an account?
              <a [routerLink]="['/login']" class="text-primary">Login here</a>
            </p>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
